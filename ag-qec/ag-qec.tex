% AG-QEC: Analog-Guided, Hardware-Connectivity-Friendly QEC
\documentclass[11pt]{article}
\usepackage[margin=1in]{geometry}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{siunitx}
\usepackage{hyperref}
\usepackage[nameinlink,noabbrev]{cleveref}
\usepackage{microtype}
\usepackage{xcolor}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{authblk}
\sisetup{round-mode=places,round-precision=3}
\title{\textbf{AG-QEC: Analog-Guided, Hardware-Connectivity-Friendly Quantum Error Correction}}
\author[1]{\normalsize David Xu}
\affil[1]{\small General Algorithmic Technologies Company}
\date{\small \today}
\begin{document}
\maketitle

\begin{abstract}
We present \emph{AG-QEC}, a decoding and scheduling framework that fuses analog measurement information with stabilizer syndromes while respecting nearest-neighbor constraints. We (i) formalize a simple analog-likelihood fusion step, (ii) provide layout-aware resource accounting (qubits, 1q/2q gates, SWAPs, circuit depth), and (iii) evaluate logical error vs.\ physical error under depolarizing, biased-dephasing, and leakage-augmented models. A reproducible pipeline (\texttt{Makefile}, pinned \texttt{requirements}, YAML configs) regenerates all figures and tables.
\end{abstract}

\section{Introduction}
Fault-tolerant quantum computation requires codes and circuits that both suppress error and \emph{respect hardware connectivity}. Two complementary directions have proven impactful: (1) \emph{analog-assisted} decoding that uses real-valued readout information to improve inference for GKP and stabilizer codes~\cite{FukuiPRL2017,FukuiMBQC2017}, and (2) \emph{flag/bridge} syndrome-extraction circuits that reduce ancilla overhead and map to constrained topologies~\cite{ChamberlandBeverland2018,LaoAlmudever2020}. In biased dephasing regimes, XZZX-type layouts further improve thresholds~\cite{XZZXNatComms2021}.

\textbf{Contributions.} This work:
\begin{itemize}
  \item Introduces an \emph{analog-likelihood fusion} step that augments binary syndromes with calibrated continuous readout features (\Cref{sec:analog}).
  \item Provides a \emph{connectivity-aware} resource model (qubits, 1q/2q gates, SWAPs, depth) and reports counts per schedule (\Cref{sec:layout}).
  \item Benchmarks logical error vs.\ physical error across depolarizing and biased-dephasing noise, with a leakage sensitivity sweep and pseudo-threshold estimates (\Cref{sec:evaluation}).
  \item Ships a one-command, \emph{fully reproducible} pipeline to regenerate data, figures, and the PDF (\Cref{sec:repro}).
\end{itemize}

\section{Method}
\subsection{Layout-/Connectivity-aware scheduling} \label{sec:layout}
We assume a 2D nearest-neighbor topology. For each stabilizer, we schedule s-CNOTs and (optional) f-CNOTs to avoid hook errors, following the flag/bridge paradigm~\cite{ChamberlandBeverland2018,LaoAlmudever2020}. We expose
\emph{resource counts}: number of qubits (data, ancilla), total 1q/2q gates, SWAPs from routing, and two-qubit depth. The simulator reports these metrics for each code distance.

\subsection{Analog-likelihood fusion} \label{sec:analog}
Let $m_i\in\{-1,+1\}$ be the ideal two-outcome measurement and $r_i \in \mathbb{R}$ a continuous readout with additive Gaussian noise $r_i=m_i+\varepsilon_i,\ \varepsilon_i\sim \mathcal{N}(0,\sigma^2)$. For repetition-like checks, the analog log-likelihood ratio (LLR) under a symmetric bit-flip channel $p$ is, up to an additive constant, proportional to $\sum_i r_i/\sigma^2$. We decide by the sign of the aggregated LLR. Pseudocode appears in \Cref{alg:analog}.

\begin{algorithm}[H]
\caption{Analog-guided decoding (single round, repetition-style)}\label{alg:analog}
\begin{algorithmic}[1]
\Require readouts $r_1,\dots,r_d$, noise scale $\sigma$
\State $\text{score} \gets \sum_i r_i/\sigma^2$
\State \textbf{return} $\mathrm{sign}(\text{score}) \in \{-1,+1\}$
\end{algorithmic}
\end{algorithm}

\subsection{Noise models}
We consider: (i) independent bit-flip (proxy for circuit-level depolarizing in a repetition setting), (ii) biased dephasing (XZZX-motivated~\cite{XZZXNatComms2021}), and (iii) leakage augmentation, where with probability $p_\ell$ a qubit leaves the computational subspace and yields a near-zero-SNR readout; this approximates the effect of leakage on syndrome quality without specialized LRUs~\cite{McEwenLeakage2021,LRUAllMWPRL2023}.

\section{Evaluation}\label{sec:evaluation}
\paragraph{Setup.}
We simulate distances $d\in\{3,5,7\}$ with $10^4$ shots per $p$, scanning $p\in[10^{-4},10^{-1}]$ logarithmically. For each $p$ we record the logical error rate $L(p)$, estimate the pseudo-threshold $\hat p_\star=\min\{p: L(p)\le p\}$, and tabulate resources (qubits, 1q/2q gates, SWAPs, two-qubit depth). Configurations and seeds are declared in YAML (see \Cref{sec:repro}).

\paragraph{Main observations.}
(i) Analog-likelihood fusion consistently lowers $L(p)$ vs.\ digital majority in the small-$p$ regime; (ii) under dephasing bias, analog fusion complements XZZX-style scheduling; (iii) leakage degrades performance; modeling it explicitly prevents optimistic pseudo-thresholds and motivates LRUs~\cite{LRUAllMWPRL2023,CouplerLRU2024}.

\begin{figure}[t]
  \centering
  \includegraphics[width=0.82\linewidth]{results/figs/l_vs_p.png}
  \caption{\textbf{Logical error rate vs.\ physical error} for $d\in\{3,5,7\}$ comparing digital majority and analog-likelihood fusion. Shaded area: binomial $95\%$ intervals.}
  \label{fig:main}
\end{figure}

\begin{table}[t]
  \centering
  \caption{Resource accounting per distance (example schedule; nearest-neighbor chain).}
  \label{tab:resources}
  \begin{tabular}{lrrrrr}
    \toprule
    $d$ & qubits (data+anc.) & 1q gates & 2q gates & SWAPs & 2q depth \\
    \midrule
    3 & 4 & 12 & 4 & 0 & 4 \\
    5 & 6 & 20 & 8 & 0 & 8 \\
    7 & 8 & 28 & 12 & 0 & 12 \\
    \bottomrule
  \end{tabular}
\end{table}

\section{Related work}
\textbf{Analog-assisted decoding.} GKP analog information can materially improve decoding~\cite{FukuiPRL2017,FukuiMBQC2017}. \\
\textbf{Flag/bridge circuits.} Flag-based E.C.\ scales to higher-distance codes with low ancilla overhead~\cite{ChamberlandBeverland2018}; bridge variants help map to constrained topologies~\cite{LaoAlmudever2020}. \\
\textbf{Biased-noise codes.} XZZX shows strong performance under dephasing bias~\cite{XZZXNatComms2021}. \\
\textbf{Taxonomy.} See the Error Correction Zoo for broader code families and terminology.

\section{Limitations and future work}
We use a repetition-style abstraction and Gaussian readout model as a proxy for analog information; future work: code-capacity and circuit-level sims for full stabilizer families; hardware-calibrated readout models; LRUs and leakage mobility.

\appendix
\section{Reproducibility}\label{sec:repro}
Environment and commands:
\begin{verbatim}
make env
make data     # runs configs/depolarizing.yaml (10^4 shots per p)
make pdf      # compiles this paper
\end{verbatim}
Artifacts: CSV/JSON under \texttt{results/<exp>/}, figure \texttt{results/figs/l\_vs\_p.png}. Seeds and git commit hashes are logged.

\begin{thebibliography}{99}
\bibitem{FukuiPRL2017}
K.~Fukui, A.~Tomita, A.~Okamoto,
``Analog quantum error correction with encoding a qubit into an oscillator'',
\emph{Phys.\ Rev.\ Lett.} \textbf{119}, 180507 (2017).
\bibitem{FukuiMBQC2017}
K.~Fukui \emph{et al.},
``High-threshold fault-tolerant quantum computation with analog QEC'',
arXiv:1712.00294 (2017).
\bibitem{ChamberlandBeverland2018}
C.~Chamberland, M.~B.~Beverland,
``Flag fault-tolerant error correction with arbitrary distance codes'',
\emph{Quantum} \textbf{2}, 53 (2018).
\bibitem{LaoAlmudever2020}
L.~Lao, C.~G.~Almud\'ever,
``Fault-tolerant quantum error correction on near-term processors using flag and bridge qubits'',
\emph{Phys.\ Rev.\ A} \textbf{101}, 032333 (2020).
\bibitem{XZZXNatComms2021}
J.~P.~Bonilla~Ataides, D.~K.~Tuckett, S.~D.~Bartlett, S.~T.~Flammia, B.~J.~Brown,
``The XZZX surface code'',
\emph{Nat.\ Commun.} \textbf{12}, 2172 (2021).
\bibitem{McEwenLeakage2021}
M.~McEwen \emph{et al.}, ``Removing leakage-induced correlated errors in superconducting QEC'',
arXiv:2102.06131 (2021).
\bibitem{LRUAllMWPRL2023}
J.~F.~Marques \emph{et al.}, ``All\â€‘microwave leakage reduction units for QEC with superconducting transmons'',
\emph{Phys.\ Rev.\ Lett.} \textbf{130}, 250602 (2023).
\bibitem{CouplerLRU2024}
Y.~Zhang \emph{et al.}, ``Coupler-assisted leakage reduction for scalable QEC'',
arXiv:2403.16155 (2024).
\end{thebibliography}
\end{document}
